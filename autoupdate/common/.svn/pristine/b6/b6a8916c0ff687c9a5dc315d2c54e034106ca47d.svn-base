#	makefile for module common generated by pig 
#
TARGET	= libcacti.a
INCDIR	= -I../ -I../../3rd 
SRCDIR	= ../
CFLAGS	= $(INCDIR)  -D_GNU_SOURCE -D_REENTRANT -fms-extensions  -w -fpic -g 
CPPFLAGS = $(INCDIR) -D_GNU_SOURCE -D_REENTRANT -fms-extensions -w -fpic
LDFLAGS  = 
VPATH	= ../:../:../../3rd/sxml:../alarm:../cacti:../cacti/config:../cacti/config/detail:../cacti/kernel:../cacti/logging:../cacti/message:../cacti/mtl:../cacti/socket:../cacti/statemachine:../cacti/test:../cacti/util:../dbconnect:../dbconnect/base:../dbconnect/export:../dbconnect/export/3rd:../dbconnect/export/3rd/sybase:../dbconnect/export/3rd/sybase/debug:../dbconnect/export/3rd/sybase/nondebug:../dbconnect/driver_sybase:../dbconnect/driver_sybase/sybase_inc:../dbconnect/driver_sybase/sybase_lib:../startup:
OBJS	= PortabilityImpl.o \
	SysError.o \
	DllBase.o \
	Mutex.o \
	XProcess.o \
	KernelException.o \
	Thread.o \
	tinyxml.o \
	tinyxmlerror.o \
	tinyxmlparser.o	\
	ConfigureLoader.o \
	ConsoleHandler.o \
	FileHandler.o \
	Filter.o \
	Formatter.o \
	LogHandler.o \
	LogLevel.o \
	LogManager.o \
	LogRecord.o \
	Logger.o \
	LoggerStream.o \
	NTEventHandler.o \
	BALog.o \
	Stream.o \
	TLV.o \
	TransferMessage.o \
	MessageDispatcher.o \
	MessageTimer.o \
	PeersManager.o \
	ServiceManager.o \
	ServiceSkeleton.o \
	TransferClient.o \
	TransferServer.o \
	ActiveClient.o \
	ActiveServer.o \
	SocketAddress.o \
	SocketWrapper.o \
	fsm.o \
	CRC.o \
	DES.o \
	DailyFile.o \
	Exception.o \
	FileSystem.o \
	IniFile.o \
	MD5.o \
	StringUtil.o \
	Timer.o \
	Timestamp.o \
	Utility.o \
	Commander.o \
	Main.o \
	Service.o \
	XnuxDaemon.o \
	AlarmSender.o \
        AlarmOperator.o 

#.PHONY	:	all clean dist help
#all:	$(TARGET)
#	echo	"Make all"
all	:	$(OBJS)
	ar cru	$(TARGET) $(OBJS)
	ranlib	$(TARGET)
clean	:
	rm -fr $(TARGET) $(OBJS) $(OBJS:.o=.d)
%.o	: %.cpp
	g++ 	$(CFLAGS) -o $@ -c $<
%.d	: %.cpp
	@g++ -MM $(CPPFLAGS) $< > $@.$$$$; \
	sed 's,\($*\)\.o[:]*,\1.o $@:,g' < $@.$$$$ > $@; \
	rm	-fr $@.$$$$
tt	:
	g++	$(CFLAGS) $(LDFLAGS) -o $(TARGET) $(OBJS)
sinclude	$(OBJS:.o=.d)

